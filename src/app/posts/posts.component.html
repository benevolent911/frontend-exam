<app-header></app-header>
<div class="container">
  <div class="blog-header">
    <h1 class="blog-title">Public Blog</h1>
  </div>
  <div class="row">
    <ng-container *ngIf="(posts$ | async) as posts; else loading">
      <div class="col-sm-8 blog-main">
        <div class="blog-post" *ngFor="let post of posts;">
          <h2 class="blog-post-title">{{ post.title }}</h2>
          <p class="blog-post-meta">{{ post.created_at | date:'longDate' }} by {{ post.name }}</p>
          <p>{{ post.body }}</p>
          <button type="button" class="btn btn-info" (click)="editPost(post)">
            Edit Post
          </button>
        </div>
      </div>        
    </ng-container>
    <ng-template #loading>
      <div class="center-block text-center">
        <span><h1><i class="fa fa-spinner fa-spin"></i></h1></span>
      </div>
    </ng-template>
  </div>
</div>
